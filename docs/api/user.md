# 用户 API

| 名称                    | URL              | 方法   | 备注   |
| --------------------- | ---------------- | ---- | ---- |
| [创建用户](#创建用户)         | `/user`          | POST |      |
| [用户登录](#用户登录)         | `/user/sign-in`  | POST |      |
| [用户登出](#用户登出)         | `/user/sign-out` | GET  |      |
| [用户查询](#用户查询)         | `/user`          | GET  |      |
| [用户个人资料查询](#用户个人资料查询) | `/user/profile`  | GET  | 需要登录 |
| [创建用户组](#创建用户组)       | `/group`         | POST | 需要登录 |
|                       |                  |      |      |

## 创建用户

请求：

| 路径       | 说明   | 备注   |
| -------- | ---- | ---- |
| username | 用户名  | 紧缩处理 |
| password | 密码   |      |
| email    | 邮箱   | 紧缩处理 |

响应：

| 路径   | 说明   | 备注   |
| ---- | ---- | ---- |
| code | 错误码  |      |
| user | 用户文档 | 除密码外 |

见 [实现](../../lib/user_create.js)。

## 用户登录

请求：

| 路径       | 说明   | 备注   |
| -------- | ---- | ---- |
| username | 用户名  | 紧缩处理 |
| password | 密码   |      |

响应：

| 路径   | 说明   | 备注   |
| ---- | ---- | ---- |
| code | 错误码  |      |
| user | 用户文档 | 除密码外 |

## 用户登出

响应：

| 路径   | 说明   | 备注   |
| ---- | ---- | ---- |
| code | 错误码  |      |

## 用户查询

请求：

| 路径    | 说明                                   | 备注           |
| ----- | ------------------------------------ | ------------ |
| limit | 单次查询用户个数                             | 默认为15        |
| skip  | 跳过若干个用户                              | 默认为0         |
| ...   | 见 [UserSchema](../../models/user.js) | password 域除外 |

响应：

| 路径    | 说明      | 备注   |
| ----- | ------- | ---- |
| code  | 错误码     |      |
| users | 用户文档的数组 |      |

## 用户个人资料查询

响应：

| 路径     | 说明   | 备注            |
| ------ | ---- | ------------- |
| code   | 错误码  |               |
| user   | 用户文档 |               |
| *body* | 用户文档 | 同 user，过时的API |

